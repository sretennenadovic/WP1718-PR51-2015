<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    <style>

        /**********************************************************************************************************************/
        /*Padajuci meni kopirao sam sa w3*/
        .dropbtn {
            background-color: #4CAF50;
            color: white;
            padding: 16px;
            font-size: 16px;
            border: none;
            cursor: pointer;
        }

        /* The container <div> - needed to position the dropdown content */
        .dropdown {
            position: relative;
            display: inline-block;
        }
        
        .homeButton {
            position: relative;
            display: inline-block;
            top:-11px;
        }
        
        .addButton {
            position: relative;
            display: inline-block;
            top:0px;
            margin-left:12px;
        }
        
        .searchButton {
            position: relative;
            display: inline-block;
            top:0px;
            margin-left:12px;
        }

        /* Dropdown Content (Hidden by Default) */
        .dropdown-content {
            display: none;
            position: absolute;
            background-color: #f9f9f9;
            min-width: 160px;
            box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);
            z-index: 1;
            top:55px;
        }

            /* Links inside the dropdown */
            .dropdown-content a {
                color: black;
                padding: 12px 16px;
                text-decoration: none;
                display: block;
            }

                /* Change color of dropdown links on hover */
                .dropdown-content a:hover {
                    background-color: cornflowerblue;
                }

        /* Show the dropdown menu on hover */
        .dropdown:hover .dropdown-content {
            display: block;
        }

        /* Change the background color of the dropdown button when the dropdown content is shown */
        .dropdown:hover .dropbtn {
            background-color: #3e8e41;
        }
        
        /*kraj padajuci meni*/
        /**********************************************************************************************************************/


        footer {
            background-color: #f2f2f2;
            padding: 25px;
        }

        /*samo klasa za nav bar visina i boja*/
        .nova {
            background-color: #ffd700;
            height:55px;
        }

        /*za sliku (logo) taksija*/
        img {
            
            height: 500px;
            width: auto;
        }

        /*div*/
        #wrapper {
            overflow: auto;
        }

        /*div takodje za naslov koji pise u nav baru*/
        #d1,#d1v,#d1d {
            position: absolute;
            right: 45%;
            top: 6px;
            font-size: 30px;
            font-weight: bold;
        }

        /*logo na sredini sto se nalazi*/
        #soloPic,#soloPicd,#soloPicv {
            position: absolute;
            right: 25%;
            top: 20%;
            opacity: 0.4;
        }

        /*div*/
        #zaprofil,#zaprofild{
            position:absolute;
            top:80px;
            left:80px;
            font-size:large;
        }

        #zaprofilv {
            position: absolute;
            top: 80px;
            left: 80px;
            font-size: medium;
        }
        /*div*/
        #zaizmenu, #zaizmenud, #zaizmenuv, #dodavanjeVozaca {
            position: absolute;
            top: 80px;
            left: 80px;
        }

        /*font u bodyiu*/
        body {
            font-size: 18px;
        }

        /*font u nav tagu*/
        nav {
            font-size: 20px;
        }



    </style>
    <script src="Scripts/jquery-1.10.2.js"></script>
    <script type="text/javascript">
        $(document).ready(function () {
            //pomocne promenljive
            let korisnik;
            //AKO NIJE ULOGOVAN NIKO REDIREKTUJEM GA
            let korisnickoIme = localStorage.getItem("Ulogovan");
            if (korisnickoIme == "null") {
                $(location).attr('href', 'index.html');
            }
            let korisnickiId;


            //pomocu korisnickog imena yahtevam preko post metode od servera da mi vrati celog korisnika (dole u ajaxu nastavak)
            let Korisnik = {
                KorisnickoIme: `${korisnickoIme}`
            };

            $.ajax({
                type: 'POST',
                url: '/api/User',
                data: JSON.stringify(Korisnik),
                contentType: 'application/json;charset=utf-8',
                dataType: 'json',
                success: function (data) {
                    if (data.KorisnickoIme != null) {
                        korisnik = data;
                        korisnickiId = data.Id;
                        //prikaz odredjenog diva za odredjenu ulogu korisnika
                        if (korisnik.Uloga == 0) {
                            $('#vozac').hide();
                            $('#dispecer').hide();
                            $('#korisnik').show();
                            $('#zaprofil').hide();
                            $('#zaizmenu').hide();
                            $('#divNovaVoznja').hide();
                            //zahtev za voznjama ako je korisnik musterija
                            $.ajax({
                                type: 'GET',
                                url: '/api/Registration/' + korisnik.Id,
                                //data: JSON.stringify(korisnik.Id),
                                contentType: 'application/json;charset=utf-8',
                                dataType: 'json',
                                success: function (data) {

                                        if (korisnik.Uloga == 0) {

                                            let s = '';
                                            s += '<h3 style="margin-left:44%"><b>Moje vožnje</b></h3>';
                                            s += '<table border=1 style="width:70%;margin-top:1%;margin-left:14%;position:absolute;font-size:13px;text-align:center;"><tr><th>Datum</th><th>Ulica i broj</th><th>Naseljeno mesto</th><th>Pozivni broj</th><th>Tip auta</th><th>Ulica i broj odredišta</th><th>Naseljeno mesto odredišta</th><th>Pozivni broj odredišta</th><th>Iznos</th><th>Opis</th><th>Id vožnje</th><th>Ocena</th><th>Status vožnje</th></tr>';

                                            for (let i = 0; i < data.length; i++) {

                                                s += ("<tr><td>" + data[i].DatumVreme + "</td><td>" + data[i].Lokacija.Adresa.UlicaBroj + "</td><td>" + data[i].Lokacija.Adresa.NaseljenoMesto + "</td><td>" + data[i].Lokacija.Adresa.PozivniBroj + "</td><td>");

                                                    switch (data[i].Automobil) {
                                                        case 0:
                                                            s += "Putnički";
                                                            break;
                                                        case 1:
                                                            s += "Kombi";
                                                    }

                                                s += ("</td><td>" + data[i].Odrediste.Adresa.UlicaBroj + "</td><td>" + data[i].Odrediste.Adresa.NaseljenoMesto + "</td><td>" + data[i].Odrediste.Adresa.PozivniBroj + "</td><td>" + data[i].Iznos + "</td><td>" + data[i].Komentar.Opis + "</td><td>" + data[i].IdVoznje + "</td><td>" + data[i].Komentar.Ocena + "</td><td>" + data[i].StatusVoznje + "</td></tr>");
                                            }

                                            s += '</table>';
                                            $('#voznje').append(s);
                                        }
                                }
                            })
                        } else if (korisnik.Uloga == 1) {
                            $('#vozac').hide();
                            $('#korisnik').hide();
                            $('#dispecer').show();
                            $('#zaprofild').hide();
                            $('#zaizmenud').hide();
                            $('#dodavanjeVozaca').hide();
                        } else {
                            $('#korisnik').hide();
                            $('#dispecer').hide();
                            $('#vozac').show();
                            $('#zaprofilv').hide();
                            $('#zaizmenuv').hide();
                        }
                    }
                }
            })

            $.ajax({
                type: 'POST',
                url: '/api/UserVozac',
                data: JSON.stringify(Korisnik),
                contentType: 'application/json;charset=utf-8',
                dataType: 'json',
                success: function (data) {
                    if (data.KorisnickoIme != null) {
                        korisnik = data;
                        korisnickiId = data.Id;
                        //prikaz odredjenog diva za odredjenu ulogu korisnika
                        if (korisnik.Uloga == 0) {
                            $('#vozac').hide();
                            $('#dispecer').hide();
                            $('#korisnik').show();
                            $('#zaprofil').hide();
                            $('#zaizmenu').hide();
                            $('#divNovaVoznja').hide();
                        } else if (korisnik.Uloga == 1) {
                            $('#vozac').hide();
                            $('#korisnik').hide();
                            $('#dispecer').show();
                            $('#zaprofild').hide();
                            $('#zaizmenud').hide();
                            $('#dodavanjeVozaca').hide();

                        } else {
                            $('#korisnik').hide();
                            $('#dispecer').hide();
                            $('#vozac').show();
                            $('#zaprofilv').hide();
                            $('#zaizmenuv').hide();
                        }
                    }
                }

            })


            /*pri kliku na link profil*/
            $('#profil').click(function () {
                $.ajax({
                    type: 'POST',
                    url: '/api/User',
                    data: JSON.stringify(Korisnik),
                    contentType: 'application/json;charset=utf-8',
                    dataType: 'json',
                    success: function (data) {
                        korisnik = data;
                        korisnickiId = data.Id;
                        //prikaz odredjenog diva za odredjenu ulogu korisnika
                        if (korisnik.Uloga == 0) {
                            $('#vozac').hide();
                            $('#dispecer').hide();
                            $('#korisnik').show();
                            $('#zaprofil').hide();
                            $('#zaizmenu').hide();
                            $('#divNovaVoznja').hide();
                        } else if (korisnik.Uloga == 1) {
                            $('#vozac').hide();
                            $('#korisnik').hide();
                            $('#dispecer').show();
                            $('#zaprofild').hide();
                            $('#zaizmenud').hide();
                        } else {
                            $('#korisnik').hide();
                            $('#dispecer').hide();
                            $('#vozac').show();
                        }
                        $('#zaizmenu').hide();
                        $('#divNovaVoznja').hide();
                        $('#voznje').hide();
                        $('#1').text(korisnik.KorisnickoIme);
                        $('#2').text(korisnik.Lozinka);
                        $('#3').text(korisnik.Ime);
                        $('#4').text(korisnik.Prezime);
                        $('#5').text(korisnik.JMBG);
                        if (korisnik.Pol == 0) {
                            $('#6').text("Muški");
                        } else {
                            $('#6').text("Ženski");
                        }
                        $('#7').text(korisnik.KontaktTelefon);
                        $('#8').text(korisnik.Email);
                        $('#9').text('Mušterija');
                        $('#zaprofil').fadeIn(500);
                    }
                })
            })
        
        

            $('#profild').click(function () {
                //------------------------------------------------------------------------------------------------------------
                //moram da ponavljam je r kada uradim izmenu, mora opet novo da mi povuce 
                $.ajax({
                    type: 'POST',
                    url: '/api/User',
                    data: JSON.stringify(Korisnik),
                    contentType: 'application/json;charset=utf-8',
                    dataType: 'json',
                    success: function (data) {
                        korisnik = data;
                        korisnickiId = data.Id;
                        //prikaz odredjenog diva za odredjenu ulogu korisnika
                        if (korisnik.Uloga == 0) {
                            $('#vozac').hide();
                            $('#dispecer').hide();
                            $('#korisnik').show();
                            $('#zaprofil').hide();
                            $('#zaizmenu').hide();
                        } else if (korisnik.Uloga == 1) {
                            $('#vozac').hide();
                            $('#korisnik').hide();
                            $('#dispecer').show();
                            $('#zaprofild').hide();
                            $('#zaizmenud').hide();
                            $('#dodavanjeVozaca').hide();
                        } else {
                            $('#korisnik').hide();
                            $('#dispecer').hide();
                            $('#vozac').show();
                            $('#zaprofild').hide();
                            $('#zaizmenud').hide();
                        }
                        $('#zaizmenud').hide();
                        $('#1d').text(korisnik.KorisnickoIme);
                        $('#2d').text(korisnik.Lozinka);
                        $('#3d').text(korisnik.Ime);
                        $('#4d').text(korisnik.Prezime);
                        $('#5d').text(korisnik.JMBG);
                        if (korisnik.Pol == 0) {
                            $('#6d').text("Muški");
                        } else {
                            $('#6d').text("Ženski");
                        }
                        $('#7d').text(korisnik.KontaktTelefon);
                        $('#8d').text(korisnik.Email);
                        $('#9d').text('Dispečer');
                        $('#zaprofild').fadeIn(500);
                    }
                })
            })

            $('#profilv').click(function () {
                //------------------------------------------------------------------------------------------------------------
                //moram da ponavljam je r kada uradim izmenu, mora opet novo da mi povuce 
                $.ajax({
                    type: 'POST',
                    url: '/api/UserVozac',
                    data: JSON.stringify(Korisnik),
                    contentType: 'application/json;charset=utf-8',
                    dataType: 'json',
                    success: function (data) {
                        korisnik = data;
                        korisnickiId = data.Id;
                        //prikaz odredjenog diva za odredjenu ulogu korisnika
                        if (korisnik.Uloga == 0) {
                            $('#vozac').hide();
                            $('#dispecer').hide();
                            $('#korisnik').show();
                            $('#zaprofil').hide();
                            $('#zaizmenu').hide();
                        } else if (korisnik.Uloga == 1) {
                            $('#vozac').hide();
                            $('#korisnik').hide();
                            $('#dispecer').show();
                            $('#zaprofild').hide();
                            $('#zaizmenud').hide();
                        } else {
                            $('#korisnik').hide();
                            $('#dispecer').hide();
                            $('#vozac').show();
                            $('#zaprofilv').hide();
                            $('#zaizmenuv').hide();
                        }
                        $('#zaizmenuv').hide();
                        $('#1v').text(korisnik.KorisnickoIme);
                        $('#2v').text(korisnik.Lozinka);
                        $('#3v').text(korisnik.Ime);
                        $('#4v').text(korisnik.Prezime);
                        $('#5v').text(korisnik.JMBG);
                        if (korisnik.Pol == 0) {
                            $('#6v').text("Muški");
                        } else {
                            $('#6v').text("Ženski");
                        }
                        $('#7v').text(korisnik.KontaktTelefon);
                        $('#8v').text(korisnik.Email);
                        $('#19v').text('Vozač');
                        $('#9v').text(korisnik.Lokacija.X);
                        $('#10v').text(korisnik.Lokacija.Y);
                        $('#11v').text(korisnik.Lokacija.Adresa.UlicaBroj);
                        $('#12v').text(korisnik.Lokacija.Adresa.NaseljenoMesto);
                        $('#13v').text(korisnik.Lokacija.Adresa.PozivniBroj);
                        $('#14v').text(korisnik.Automobil.IdVozaca);
                        $('#15v').text(korisnik.Automobil.GodisteAutomobila);
                        $('#16v').text(korisnik.Automobil.BrojRegistarskeOznake);
                        $('#17v').text(korisnik.Automobil.BrojTaksiVozila);
                        if (korisnik.Automobil.TipAutomobila == 0) {
                            $('#18v').text("Putnički");
                        } else {
                            $('#18v').text("Kombi");
                        }
                        $('#zaprofilv').fadeIn(500);
                    }
                })
            })

            /*pri kliku na link izmeni*/
            $('#izmenid').click(function () {
                $('#zaprofild').hide();
                $('#KorisnickoImed').val(korisnik.KorisnickoIme);
                $('#Lozinkad').val(korisnik.Lozinka);
                $('#Imed').val(korisnik.Ime);
                $('#Prezimed').val(korisnik.Prezime);
                $('#JMBGd').val(korisnik.JMBG);
                if (korisnik.Pol == 0) {
                    $('#Pol1d').prop('checked', true);
                } else {
                    $('#Pol2d').prop('checked', true);
                }
                $('#KontaktTelefond').val(korisnik.KontaktTelefon);
                $('#Emaild').val(korisnik.Email);
                $('#zaizmenud').fadeIn(500);
            })

            $('#izmeni').click(function () {
                $('#zaprofil').hide();
                $('#voznje').hide();
                $('#divNovaVoznja').hide();
                $('#KorisnickoIme').val(korisnik.KorisnickoIme);
                $('#Lozinka').val(korisnik.Lozinka);
                $('#Ime').val(korisnik.Ime);
                $('#Prezime').val(korisnik.Prezime);
                $('#JMBG').val(korisnik.JMBG);
                if (korisnik.Pol == 0) {
                    $('#Pol1').prop('checked', true);
                    } else {
                    $('#Pol2').prop('checked', true);
                    }
                $('#KontaktTelefon').val(korisnik.KontaktTelefon);
                $('#Email').val(korisnik.Email);
                $('#zaizmenu').fadeIn(500);
            })

            $('#izmeniv').click(function () {
                $('#zaprofilv').hide();
                $('#KorisnickoImev').val(korisnik.KorisnickoIme);
                $('#Lozinkav').val(korisnik.Lozinka);
                $('#Imev').val(korisnik.Ime);
                $('#Prezimev').val(korisnik.Prezime);
                $('#JMBGv').val(korisnik.JMBG);
                if (korisnik.Pol == 0) {
                    $('#Pol1v').prop('checked', true);
                } else {
                    $('#Pol2v').prop('checked', true);
                }
                $('#KontaktTelefonv').val(korisnik.KontaktTelefon);
                $('#Emailv').val(korisnik.Email);
                $('#LokacijaX').val(korisnik.Lokacija.X);
                $('#LokacijaY').val(korisnik.Lokacija.Y);
                $('#UlicaBroj').val(korisnik.Lokacija.Adresa.UlicaBroj);
                $('#NaseljenoMesto').val(korisnik.Lokacija.Adresa.NaseljenoMesto);
                $('#PozivniBroj').val(korisnik.Lokacija.Adresa.PozivniBroj);
                $('#IdVozaca').val(korisnik.Automobil.IdVozaca);
                $('#GodisteAutomobila').val(korisnik.Automobil.GodisteAutomobila);
                $('#BrojRegistarskeOznake').val(korisnik.Automobil.BrojRegistarskeOznake);
                $('#BrojTaksiVozila').val(korisnik.Automobil.BrojTaksiVozila);
                if (korisnik.Automobil.TipAutomobila == 0) {
                    $('#TipAutomobila1').prop('checked', true);
                } else {
                    $('#TipAutomobila2').prop('checked', true);
                }
                $('#zaizmenuv').fadeIn(500);
            })
            //kraj linka izmeni

            //dugme izmeniii
            $('#izmena').click(function (data) {
                 let pol;
                 if ($('#Pol1').prop('checked')) {
                     pol = 'Muski';
                 } else if ($('#Pol2').prop('checked')){
                     pol = 'Zenski';
                 }
                let KorisnikIzmena = {
                    Id: korisnickiId,
                    KorisnickoIme: `${$('#KorisnickoIme').val()}`,
                    Lozinka: `${$('#Lozinka').val()}`,
                    Ime: `${$('#Ime').val()}`,
                    Prezime: `${$('#Prezime').val()}`,
                    Pol: pol,
                    JMBG: `${$('#JMBG').val()}`,
                    KontaktTelefon: `${$('#KontaktTelefon').val()}`,
                    Email: `${$('#Email').val()}`,
                    Uloga: 'Musterija',
                    Voznje: 'nema'
                };

                $.ajax({
                    type: 'PUT',
                    url: '/api/Registration/' + KorisnikIzmena.Id,
                    data: JSON.stringify(KorisnikIzmena),
                    contentType: 'application/json;charset=utf-8',
                    dataType: 'json',
                    success: function (data) {
                        if (!data) {
                            alert("Korisničko ime koje zahtevate, već postoji!");
                        } else {
                            alert("Uspešno ste izmenili podatke!");
                            localStorage.setItem("Ulogovan", KorisnikIzmena.KorisnickoIme);
                            Korisnik.KorisnickoIme = KorisnikIzmena.KorisnickoIme;
                        }
                    }
                })
            })

            $('#izmenad').click(function (data) {
                let pol;
                if ($('#Pol1d').prop('checked')) {
                    pol = 'Muski';
                } else if ($('#Pol2d').prop('checked')) {
                    pol = 'Zenski';
                }
                let KorisnikIzmena = {
                    Id: korisnickiId,
                    KorisnickoIme: `${$('#KorisnickoImed').val()}`,
                    Lozinka: `${$('#Lozinkad').val()}`,
                    Ime: `${$('#Imed').val()}`,
                    Prezime: `${$('#Prezimed').val()}`,
                    Pol: pol,
                    JMBG: `${$('#JMBGd').val()}`,
                    KontaktTelefon: `${$('#KontaktTelefond').val()}`,
                    Email: `${$('#Emaild').val()}`,
                    Uloga: 'Dispecer',
                    Voznje: 'nema'
                };

                $.ajax({
                    type: 'PUT',
                    url: '/api/Dispecer/' + korisnickiId,
                    data: JSON.stringify(KorisnikIzmena),
                    contentType: 'application/json;charset=utf-8',
                    dataType: 'json',
                    success: function (data) {
                        if (!data) {
                            alert("Korisničko ime koje zahtevate, već postoji!");
                        } else {
                            alert("Uspešno ste izmenili podatke!");
                            localStorage.setItem("Ulogovan", KorisnikIzmena.KorisnickoIme);
                            Korisnik.KorisnickoIme = KorisnikIzmena.KorisnickoIme;
                        }
                    }
                })
            })

            $('#izmenav').click(function (data) {
                let pol;
                if ($('#Pol1v').prop('checked')) {
                    pol = 'Muski';
                } else if ($('#Pol2v').prop('checked')) {
                    pol = 'Zenski';
                }
                let tipAutomobila;
                if ($('#TipAutomobila1').prop('checked')) {
                    tipAutomobila = 'Putnicki';
                } else if ($('#TipAutomobila2').prop('checked')) {
                    tipAutomobila = 'Kombi';
                }

                let adresa = {
                    UlicaBroj: `${$('#UlicaBroj').val()}`,
                    NaseljenoMesto: `${$('#NaseljenoMesto').val()}`,
                    PozivniBroj: `${$('#PozivniBroj').val()}`
                }

                let lokacija = {
                    X: `${$('#LokacijaX').val()}`,
                    Y: `${$('#LokacijaY').val()}`,
                    Adresa:adresa
                }
                let automobil = {
                    IdVozaca : korisnickiId,
                    GodisteAutomobila : `${$('#GodisteAutomobila').val()}`,
                    BrojRegistarskeOznake : `${$('#BrojRegistarskeOznake').val()}`,
                    BrojTaksiVozila : `${$('#BrojTaksiVozila').val()}`,
                    TipAutomobila : tipAutomobila
                }
                let KorisnikIzmena = {
                    Id: korisnickiId,
                    KorisnickoIme: `${$('#KorisnickoImev').val()}`,
                    Lozinka: `${$('#Lozinkav').val()}`,
                    Ime: `${$('#Imev').val()}`,
                    Prezime: `${$('#Prezimev').val()}`,
                    Pol: pol,
                    JMBG: `${$('#JMBGv').val()}`,
                    KontaktTelefon: `${$('#KontaktTelefonv').val()}`,
                    Email: `${$('#Emailv').val()}`,
                    Uloga: 'Vozac',
                    Voznje: 'nema',
                    Lokacija: lokacija,
                    Automobil: automobil
                };

                $.ajax({
                    type: 'PUT',
                    url: '/api/Vozac/' + korisnickiId,
                    data: JSON.stringify(KorisnikIzmena),
                    contentType: 'application/json;charset=utf-8',
                    dataType: 'json',
                    success: function (data) {
                        if (!data) {
                            alert("Korisničko ime koje zahtevate, već postoji!");
                        } else {
                            alert("Uspešno ste izmenili podatke!");
                            localStorage.setItem("Ulogovan", KorisnikIzmena.KorisnickoIme);
                            Korisnik.KorisnickoIme = KorisnikIzmena.KorisnickoIme;
                        }
                    }
                })
            })
             //kraj izmenii

            $('#odjavi,#odjavid,#odjaviv').click(function () {
                localStorage.setItem("Ulogovan",null);
                $(location).attr('href', 'index.html');
            })

            //Home dugmad
            //dodaj posle da se sakrije i za pretragu i sve novije dodato
            $('#dugmeHome').click(function () {
                $('#zaprofil').hide();
                $('#zaizmenu').hide();
                $('#divNovaVoznja').hide();
                $('#voznje').fadeIn(500);
            })

            //kraj home dugmadi


            //dodaj vozaca iz dispecera (NIJE DUGME)
            $('#novVozac').click(function () {
                $('#zaprofild').hide();
                $('#zaizmenud').hide();
                $('#voznje').hide();
                $('#dodavanjeVozaca').fadeIn(500);
            })

            //dodaj vozaca (DUGME)

            $('#VDodaj').click(function (data) {
                let pol;
                if ($('#Pol1VDodaj').prop('checked')) {
                    pol = 'Muski';
                } else if ($('#Pol2VDodaj').prop('checked')) {
                    pol = 'Zenski';
                }
                let tipAutomobila;
                if ($('#TipAutomobila1VDodaj').prop('checked')) {
                    tipAutomobila = 'Putnicki';
                } else if ($('#TipAutomobila2VDodaj').prop('checked')) {
                    tipAutomobila = 'Kombi';
                }

                let adresa = {
                    UlicaBroj: `${$('#UlicaBrojVDodaj').val()}`,
                    NaseljenoMesto: `${$('#NaseljenoMestoVDodaj').val()}`,
                    PozivniBroj: `${$('#PozivniBrojVDodaj').val()}`
                }

                let lokacija = {
                    X: `${$('#LokacijaXVDodaj').val()}`,
                    Y: `${$('#LokacijaYVDodaj').val()}`,
                    Adresa: adresa
                }
                let automobil = {
                    IdVozaca: "",
                    GodisteAutomobila: `${$('#GodisteAutomobilaVDodaj').val()}`,
                    BrojRegistarskeOznake: `${$('#BrojRegistarskeOznakeVDodaj').val()}`,
                    BrojTaksiVozila: `${$('#BrojTaksiVozilaVDodaj').val()}`,
                    TipAutomobila: tipAutomobila
                }
                let NovVozac = {
                    Id: "",
                    KorisnickoIme: `${$('#KorisnickoImeVDodaj').val()}`,
                    Lozinka: `${$('#LozinkaVDodaj').val()}`,
                    Ime: `${$('#ImeVDodaj').val()}`,
                    Prezime: `${$('#PrezimeVDodaj').val()}`,
                    Pol: pol,
                    JMBG: `${$('#JMBGVDodaj').val()}`,
                    KontaktTelefon: `${$('#KontaktTelefonVDodaj').val()}`,
                    Email: `${$('#EmailVDodaj').val()}`,
                    Uloga: 'Vozac',
                    Voznje: 'nema',
                    Lokacija: lokacija,
                    Automobil: automobil
                };

                $.ajax({
                    type: 'POST',
                    url: '/api/Vozac',
                    data: JSON.stringify(NovVozac),
                    contentType: 'application/json;charset=utf-8',
                    dataType: 'json',
                    success: function (data) {
                        if (!data) {
                            alert("Korisničko ime koje ste uneli već postoji!");
                        } else {
                            alert("Uspešno ste dodali novog vozača!");
                        }
                    }
                })
            })
            //KRAJ DODAVANJA VOZACA


            //KORISNIK DODAJE VOZNJU

            $('#korisnikDodajVoznju').click(function () {
                $('#zaprofil').hide();
                $('#zaizmenu').hide();
                $('#voznje').hide();
                $('#divNovaVoznja').fadeIn(500);
            })

            //KRAJ KORISNIK DODAJE VOZNJU   


        })




    </script>
</head>
<body>
    <div id="korisnik">
        <nav class="nova">
            <div class="container-fluid">
                <div class="collapse navbar-collapse">
                    <div id="d1">
                        Gold TAXI
                    </div>

                    <div class="homeButton">
                        <button style="background-color:#ffd700;border:none;height:55px;width:auto" id="dugmeHome">
                            <i class="material-icons" style="font-size:xx-large;margin-top:8px" data-toggle="tooltip" title="Sve moje vožnje">home</i>
                        </button>
                    </div>

                    <div class="dropdown">
                        <ul class="nav navbar-nav navbar-right">
                            <li>
                                <button style="background-color:#ffd700;border:none;height:55px;width:auto"><i class="material-icons" style="font-size:xx-large;margin-top:8px">person</i> </button>
                            </li>

                        </ul>
                        <div class="dropdown-content">
                            <a href="#" id="profil">Profil</a>
                            <a href="#" id="izmeni">Izmeni</a>
                            <a href="#" id="odjavi">Odjavi se</a>
                        </div>
                    </div>
                    <div style="margin-left:12px;position:relative;display:inline-block">
                        <button type="button" style="background-color:#ffd700;border:none;margin-top:-45px;font-size:22px" class="btn btn-default btn-sm" id="korisnikDodajVoznju" data-toggle="tooltip" title="Dodaj novu vožnju">
                            <span class="glyphicon glyphicon-plus"></span>
                        </button>
                    </div>
                    <div class="dropdown">
                        <ul class="nav navbar-nav navbar-right">
                            <li>
                                <button style="background-color:#ffd700;border:none;height:55px;width:auto" data-toggle="tooltip" title="Pretraži"><span class="glyphicon glyphicon-search"></span></button>
                            </li>
                        </ul>
                        <div class="dropdown-content">
                            <a href="#" id="pretragaDatum">Datum</a>
                            <a href="#" id="pretragaOcena">Ocena</a>
                            <a href="#" id="pretragaCena">Cena</a>
                        </div>
                    </div>
                </div>
            </div>
        </nav>

        <img src="pozadinaSreten.jpg" id="soloPic" />
        <div id="voznje" style="font-size:14px">
        </div>
        <div id="divNovaVoznja">
            <table style="position:absolute;margin-left:3%;margin-top:3%;">
                <tr ><th colspan="2">Unesite podatke o novoj vožnji:</th></tr>
                <tr ><td colsapn="2"><hr/></td></tr>
                <tr><td >Koordinata X:</td><td><input type="text" style="margin:5px;" name="korisnikLokacijaX" id="korisnikLokacijaX" required /></td></tr>
                <tr><td>Koordinata Y:</td><td><input type="text" style="margin:5px;" name="korisnikLokacijaY" id="korisnikLokacijaY" required /></td></tr>
                <tr><td>Ulica i broj:</td><td><input type="text" style="margin:5px;" name="korisnikUlicaBroj" id="korisnikUlicaBroj" required /></td></tr>
                <tr><td>Naseljeno mesto:</td><td><input type="text" style="margin:5px;" name="korisnikNaseljenoMesto" id="korisnikNaseljenoMesto" required /></td></tr>
                <tr><td>Pozivni broj:</td><td><input type="text" style="margin:5px;" name="korisnikPozivniBroj" id="korisnikPozivniBroj" required /></td></tr>
                <tr><td>Željeni tip automobila:</td><td><label>&nbspPutnički:&nbsp&nbsp</label><input type="radio" style="margin:5px;" name="korisnikTipAuta" value="Putnicki" id="korisnikTipAuta1" /><label>&nbsp&nbspKombi:&nbsp&nbsp</label><input type="radio" value="Kombi" style="margin:5px;" name="korisnikTipAuta" id="korisnikTipAuta2" /></td></tr>
                <tr><td colspan="2" align="right"><input type="button" style="margin:5px;" name="DodajVoznju" id="DodajVoznju" value="Dodaj" /></td></tr>
            </table>
        </div>
        <div id="zaprofil">
            <h2>Korisnički profil</h2>
            <hr />
            <table>
                <tr><th>Korisničko ime:</th><td id="1"></td></tr>
                <tr><th>Lozinka:</th><td id="2"></td></tr>
                <tr><th>Ime:</th><td id="3"></td></tr>
                <tr><th>Prezime:</th><td id="4"></td></tr>
                <tr><th>JMBG:</th><td id="5"></td></tr>
                <tr><th>Pol:</th><td id="6"></td></tr>
                <tr><th>Kontakt Telefon:</th><td id="7"></td></tr>
                <tr><th>Email:</th><td id="8"></td></tr>
                <tr><th>Uloga:</th><td id="9"></td></tr>
            </table>
        </div>
        <div id="zaizmenu">
            <table>
                <tr><th>Korisničko ime:</th><td><input type="text" name="KorisnickoIme" id="KorisnickoIme" style="margin:5px" /></td></tr>
                <tr><th>Lozinka:</th><td><input type="text" name="Lozinka" id="Lozinka" style="margin:5px" /></td></tr>
                <tr><th>Ime:</th><td><input type="text" name="Ime" id="Ime" style="margin:5px" /></td></tr>
                <tr><th>Prezime:</th><td><input type="text" name="Prezime" id="Prezime" style="margin:5px" /></td></tr>
                <tr><th>JMBG:</th><td><input type="text" name="JMBG" id="JMBG" style="margin:5px" /></td></tr>
                <tr><th>Pol:</th><td><label>Muški:&nbsp&nbsp</label><input type="radio" name="Pol" value="Muski" id="Pol1" /><label>&nbsp&nbspŽenski:&nbsp&nbsp</label><input type="radio" value="Zenski" name="Pol" id="Pol2" /></td></tr>
                <tr><th>Kontakt Telefon:</th><td><input type="text" name="KontaktTelefon" id="KontaktTelefon" style="margin:5px" /></td></tr>
                <tr><th>Email:</th><td><input type="email" name="Email" id="Email" style="margin:5px" /></td></tr>
                <tr><td colspan="2"><hr /></td></tr>
                <tr><td colspan="2" align="right"><b><input type="button" value="Izmeni" id="izmena" /></b></td></tr>
            </table>
        </div>
    </div>
    <div id="dispecer">
        <nav class="nova">
            <div class="container-fluid">
                <div class="collapse navbar-collapse">
                    <div id="d1d">
                        Gold TAXI
                    </div>
                    <div class="homeButton">
                        <button style="background-color:#ffd700;border:none;height:55px;width:auto">
                            <i class="material-icons" style="font-size:xx-large;margin-top:8px" data-toggle="tooltip" title="Moje vožnje">home</i>
                        </button>
                    </div>
                    <div class="dropdown">
                        <ul class="nav navbar-nav navbar-right">
                            <li>
                                <button style="background-color:#ffd700;border:none;height:55px;width:auto"><i class="material-icons" style="font-size:xx-large;margin-top:8px">person</i> </button>
                            </li>
                        </ul>
                        <div class="dropdown-content">
                            <a href="#" id="profild">Profil</a>
                            <a href="#" id="izmenid">Izmeni</a>
                            <a href="#" id="odjavid">Odjavi se</a>
                        </div>
                    </div>
                    <div class="dropdown addButton">
                        <ul class="nav navbar-nav navbar-right">
                            <li>
                                <button type="button" style="background-color:#ffd700;height:55px;width:auto;border:none;font-size:22px" class="btn btn-default btn-sm" data-toggle="tooltip" title="Dodaj">
                                    <span class="glyphicon glyphicon-plus"></span>
                                </button>
                            </li>
                        </ul>
                        <div class="dropdown-content">
                            <a href="#" id="novaVoznja">Vožnja</a>
                            <a href="#" id="novVozac">Vozač</a>
                        </div>
                    </div>
                    <div class="dropdown searchButton">
                        <ul class="nav navbar-nav navbar-right">
                            <li>
                                <button style="background-color:#ffd700;border:none;height:55px;width:auto" data-toggle="tooltip" title="Pretraži"><span class="glyphicon glyphicon-search"></span></button>
                            </li>
                        </ul>
                        <div class="dropdown-content">
                            <a href="#" id="pretragaVozac">Vozač</a>
                            <a href="#" id="pretragaMusterija">Mušterija</a>
                        </div>
                    </div>
                </div>
            </div>
        </nav>
        <img src="pozadinaSreten.jpg" id="soloPicd" />
        <div id="zaprofild">
            <h2>Korisnički profil</h2>
            <hr />
            <table>
                <tr><th>Korisničko ime:</th><td id="1d"></td></tr>
                <tr><th>Lozinka:</th><td id="2d"></td></tr>
                <tr><th>Ime:</th><td id="3d"></td></tr>
                <tr><th>Prezime:</th><td id="4d"></td></tr>
                <tr><th>JMBG:</th><td id="5d"></td></tr>
                <tr><th>Pol:</th><td id="6d"></td></tr>
                <tr><th>Kontakt Telefon:</th><td id="7d"></td></tr>
                <tr><th>Email:</th><td id="8d"></td></tr>
                <tr><th>Uloga:</th><td id="9d"></td></tr>
            </table>
        </div>
        <div id="zaizmenud">
            <table>
                <tr><th>Korisničko ime:</th><td><input type="text" name="KorisnickoImed" id="KorisnickoImed" style="margin:5px" /></td></tr>
                <tr><th>Lozinka:</th><td><input type="text" name="Lozinkad" id="Lozinkad" style="margin:5px" /></td></tr>
                <tr><th>Ime:</th><td><input type="text" name="Imed" id="Imed" style="margin:5px" /></td></tr>
                <tr><th>Prezime:</th><td><input type="text" name="Prezimed" id="Prezimed" style="margin:5px" /></td></tr>
                <tr><th>JMBG:</th><td><input type="text" name="JMBGd" id="JMBGd" style="margin:5px" /></td></tr>
                <tr><th>Pol:</th><td><label>Muški:&nbsp&nbsp</label><input type="radio" name="Pold" value="Muski" id="Pol1d" /><label>&nbsp&nbspŽenski:&nbsp&nbsp</label><input type="radio" value="Zenski" name="Pold" id="Pol2d" /></td></tr>
                <tr><th>Kontakt Telefon:</th><td><input type="text" name="KontaktTelefond" id="KontaktTelefond" style="margin:5px" /></td></tr>
                <tr><th>Email:</th><td><input type="email" name="Emaild" id="Emaild" style="margin:5px" /></td></tr>
                <tr><td colspan="2"><hr /></td></tr>
                <tr><td colspan="2" align="right"><b><input type="button" value="Izmeni" id="izmenad" /></b></td></tr>
            </table>
        </div>
        <div id="dodavanjeVozaca">
            <table class="w3-small">
                <tr><th>Korisničko ime:</th><td><input type="text" name="KorisnickoImeVDodaj" id="KorisnickoImeVDodaj" style="margin:5px" /></td></tr>
                <tr><th>Lozinka:</th><td><input type="text" name="LozinkaVDodaj" id="LozinkaVDodaj" style="margin:5px" /></td></tr>
                <tr><th>Ime:</th><td><input type="text" name="ImeVDodaj" id="ImeVDodaj" style="margin:5px" /></td></tr>
                <tr><th>Prezime:</th><td><input type="text" name="PrezimeVDodaj" id="PrezimeVDodaj" style="margin:5px" /></td></tr>
                <tr><th>JMBG:</th><td><input type="text" name="JMBGVDodaj" id="JMBGVDodaj" style="margin:5px" /></td></tr>
                <tr><th>Pol:</th><td><label>Muški:&nbsp&nbsp</label><input type="radio" name="PolVDodaj" value="Muski" id="Pol1VDodaj" /><label>&nbsp&nbspŽenski:&nbsp&nbsp</label><input type="radio" value="Zenski" name="PolVDodaj" id="Pol2VDodaj" /></td></tr>
                <tr><th>Kontakt Telefon:</th><td><input type="text" name="KontaktTelefonVDodaj" id="KontaktTelefonVDodaj" style="margin:5px" /></td></tr>
                <tr><th>Email:</th><td><input type="email" name="EmailVDodaj" id="EmailVDodaj" style="margin:5px" /></td></tr>
                <tr><th>Lokacija X:</th><td><input type="text" name="LokacijaXVDodaj" id="LokacijaXVDodaj" style="margin:5px" /></td></tr>
                <tr><th>Lokacija Y:</th><td><input type="text" name="LokacijaYVDodaj" id="LokacijaYVDodaj" style="margin:5px" /></td></tr>
                <tr><th>Ulica i broj:</th><td><input type="text" name="UlicaBrojVDodaj" id="UlicaBrojVDodaj" style="margin:5px" /></td></tr>
                <tr><th>Naseljeno mesto:</th><td><input type="text" name="NaseljenoMestoVDodaj" id="NaseljenoMestoVDodaj" style="margin:5px" /></td></tr>
                <tr><th>Pozivni broj:</th><td><input type="text" name="PozivniBrojVDodaj" id="PozivniBrojVDodaj" style="margin:5px" /></td></tr>
                <tr><th>Godište automobila:</th><td><input type="text" name="GodisteAutomobilaVDodaj" id="GodisteAutomobilaVDodaj" style="margin:5px" /></td></tr>
                <tr><th>Registarske oznake:</th><td><input type="text" name="BrojRegistarskeOznakeVDodaj" id="BrojRegistarskeOznakeVDodaj" style="margin:5px" /></td></tr>
                <tr><th>Taxi broj:</th><td><input type="text" name="BrojTaksiVozilaVDodaj" id="BrojTaksiVozilaVDodaj" style="margin:5px" /></td></tr>
                <tr><th>Vrsta vozila:</th><td><label>Putnički:&nbsp&nbsp</label><input type="radio" name="TipAutomobilaVDodaj" value="Putnički" id="TipAutomobila1VDodaj" /><label>&nbsp&nbspKombi:&nbsp&nbsp</label><input type="radio" value="Kombi" name="TipAutomobilaVDodaj" id="TipAutomobila2VDodaj" /></td></tr>
                <tr><td colspan="2"><hr /></td></tr>
                <tr><td colspan="2" align="right"><b><input type="button" value="Dodaj" id="VDodaj" /></b></td></tr>
            </table>
        </div>
    </div>
    <div id="vozac">
        <nav class="nova">
            <div class="container-fluid">
                <div class="collapse navbar-collapse">
                    <div id="d1v">
                        Gold TAXI
                    </div>
                    <div class="homeButton">
                        <button style="background-color:#ffd700;border:none;height:55px;width:auto">
                            <i class="material-icons" style="font-size:xx-large;margin-top:8px">home</i>
                        </button>
                    </div>
                    <div class="dropdown">
                        <ul class="nav navbar-nav navbar-right">
                            <li>
                                <button style="background-color:#ffd700;border:none;height:55px;width:auto"><i class="material-icons" style="font-size:xx-large;margin-top:8px">person</i> </button>
                            </li>
                        </ul>
                        <div class="dropdown-content">
                            <a href="#" id="profilv">Profil</a>
                            <a href="#" id="izmeniv">Izmeni</a>
                            <a href="#" id="odjaviv">Odjavi se</a>
                        </div>
                    </div>
                </div>
            </div>
        </nav>
        <img src="pozadinaSreten.jpg" id="soloPicv" />
        <div id="zaprofilv">
            <h2>Korisnički profil</h2>
            <hr />
            <table>
                <tr><th>Korisničko ime:</th><td id="1v"></td></tr>
                <tr><th>Lozinka:</th><td id="2v"></td></tr>
                <tr><th>Ime:</th><td id="3v"></td></tr>
                <tr><th>Prezime:</th><td id="4v"></td></tr>
                <tr><th>JMBG:</th><td id="5v"></td></tr>
                <tr><th>Pol:</th><td id="6v"></td></tr>
                <tr><th>Kontakt Telefon:</th><td id="7v"></td></tr>
                <tr><th>Email:</th><td id="8v"></td></tr>
                <tr><th>Uloga:</th><td id="19v"></td></tr>
                <tr><th>Lokacija X:</th><td id="9v"></td></tr>
                <tr><th>Lokacija Y:</th><td id="10v"></td></tr>
                <tr><th>Ulica i broj:</th><td id="11v"></td></tr>
                <tr><th>Naseljeno mesto:</th><td id="12v"></td></tr>
                <tr><th>Pozivni broj:</th><td id="13v"></td></tr>
                <tr><th>Id vozača:</th><td id="14v"></td></tr>
                <tr><th>Godište automobila:</th><td id="15v"></td></tr>
                <tr><th>Registarske oznake:</th><td id="16v"></td></tr>
                <tr><th>Taxi broj:</th><td id="17v"></td></tr>
                <tr><th>Vrsta vozila:</th><td id="18v"></td></tr>
            </table>
        </div>
        <div id="zaizmenuv">
            <table class="w3-small">
                <tr><th>Korisničko ime:</th><td><input type="text" name="KorisnickoImev" id="KorisnickoImev" style="margin:5px" /></td></tr>
                <tr><th>Lozinka:</th><td><input type="text" name="Lozinkav" id="Lozinkav" style="margin:5px" /></td></tr>
                <tr><th>Ime:</th><td><input type="text" name="Imev" id="Imev" style="margin:5px" /></td></tr>
                <tr><th>Prezime:</th><td><input type="text" name="Prezimev" id="Prezimev" style="margin:5px" /></td></tr>
                <tr><th>JMBG:</th><td><input type="text" name="JMBGv" id="JMBGv" style="margin:5px" /></td></tr>
                <tr><th>Pol:</th><td><label>Muški:&nbsp&nbsp</label><input type="radio" name="Polv" value="Muski" id="Pol1v" /><label>&nbsp&nbspŽenski:&nbsp&nbsp</label><input type="radio" value="Zenski" name="Polv" id="Pol2v" /></td></tr>
                <tr><th>Kontakt Telefon:</th><td><input type="text" name="KontaktTelefonv" id="KontaktTelefonv" style="margin:5px" /></td></tr>
                <tr><th>Email:</th><td><input type="email" name="Emailv" id="Emailv" style="margin:5px" /></td></tr>
                <tr><th>Lokacija X:</th><td><input type="text" name="LokacijaX" id="LokacijaX" style="margin:5px" /></td></tr>
                <tr><th>Lokacija Y:</th><td><input type="text" name="LokacijaY" id="LokacijaY" style="margin:5px" /></td></tr>
                <tr><th>Ulica i broj:</th><td><input type="text" name="UlicaBroj" id="UlicaBroj" style="margin:5px" /></td></tr>
                <tr><th>Naseljeno mesto:</th><td><input type="text" name="NaseljenoMesto" id="NaseljenoMesto" style="margin:5px" /></td></tr>
                <tr><th>Pozivni broj:</th><td><input type="text" name="PozivniBroj" id="PozivniBroj" style="margin:5px" /></td></tr>
                <tr><th>Id vozača:</th><td><input type="text" name="IdVozaca" id="IdVozaca" style="margin:5px" readonly/></td></tr>
                <tr><th>Godište automobila:</th><td><input type="text" name="GodisteAutomobila" id="GodisteAutomobila" style="margin:5px" /></td></tr>
                <tr><th>Registarske oznake:</th><td><input type="text" name="BrojRegistarskeOznake" id="BrojRegistarskeOznake" style="margin:5px" /></td></tr>
                <tr><th>Taxi broj:</th><td><input type="text" name="BrojTaksiVozila" id="BrojTaksiVozila" style="margin:5px" /></td></tr>
                <tr><th>Vrsta vozila:</th><td><label>Putnički:&nbsp&nbsp</label><input type="radio" name="TipAutomobila" value="Putnički" id="TipAutomobila1" /><label>&nbsp&nbspKombi:&nbsp&nbsp</label><input type="radio" value="Kombi" name="TipAutomobila" id="TipAutomobila2" /></td></tr>
                <tr><td colspan="2"><hr /></td></tr>
                <tr><td colspan="2" align="right"><b><input type="button" value="Izmeni" id="izmenav" /></b></td></tr>
            </table>
        </div>
    </div>
</body>
</html>
