<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/balloon-css/0.5.0/balloon.min.css">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
    <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    <link rel="stylesheet" href="Content/MojCSS/Main.css" />
    <script src="Scripts/jquery-1.10.2.js"></script>
    <script src="Scripts/Moje Skripte/Vozac.js"></script>
    <script src="Scripts/Moje Skripte/Start.js"></script>
    <script src="Scripts/Moje Skripte/DispecerPretraga.js"></script>
    <script src="Scripts/Moje Skripte/MusterijaPretragaSortFilter.js"></script>
    <script src="Scripts/Moje Skripte/Musterija.js"></script>
    <script src="Scripts/Moje Skripte/Dispecer.js"></script>
</head>
<body>
    <div id="korisnik">
        <nav class="nova">
            <div class="container-fluid">
                <div class="collapse navbar-collapse">
                    <div id="d1">
                        Gold TAXI
                    </div>

                    <div class="homeButton">
                        <button style="background-color:#ffd700;border:none;height:55px;width:auto" id="dugmeHome" data-balloon="Sve moje vožnje!" data-balloon-pos="down">
                            <i class="material-icons" style="font-size:xx-large;margin-top:8px">home</i>
                        </button>
                    </div>

                    <div class="dropdown">
                        <ul class="nav navbar-nav navbar-right">
                            <li>
                                <button style="background-color:#ffd700;border:none;height:55px;width:auto" data-balloon="Profil!" data-balloon-pos="down"><i class="material-icons" style="font-size:xx-large;margin-top:8px">person</i> </button>
                            </li>

                        </ul>
                        <div class="dropdown-content">
                            <a href="#" id="profil">Profil</a>
                            <a href="#" id="izmeni">Izmeni</a>
                            <a href="#" id="odjavi">Odjavi se</a>
                        </div>
                    </div>
                    <div style="margin-left:12px;position:relative;display:inline-block">
                        <button type="button" style="background-color:#ffd700;border:none;margin-top:-45px;font-size:22px;height:55px;" class="btn btn-default btn-sm" id="korisnikDodajVoznju" data-balloon="Dodaj novu vožnju!" data-balloon-pos="down">
                            <span class="glyphicon glyphicon-plus"></span>
                        </button>
                    </div>
                    <div class="searchButtonK">
                        <button style="background-color:#ffd700;border:none;height:55px;width:auto" id="pretragaKorisnik" data-balloon="Pretraži!" data-balloon-pos="down"><span class="glyphicon glyphicon-search"></span></button>
                    </div>
                    <div style="display:inline-block;position:absolute;margin-left:0px;">
                        <button style="background-color:#ffd700;border:none;height:55px;width:44px" data-balloon="Filtriraj!" data-balloon-pos="down" id="filtrirajVoznje"><span class="glyphicon glyphicon-filter"></span></button>
                    </div>
                    <div class="dropdown" style="margin-left:45px;">
                        <ul class="nav navbar-nav navbar-right">
                            <li>
                                <button style="background-color:#ffd700;border:none;height:55px;width:44px" data-balloon="Sortiraj!" data-balloon-pos="down" id="sortiranje"><span class="glyphicon glyphicon-sort-by-attributes-alt"></span></button>
                            </li>

                        </ul>
                        <div class="dropdown-content">
                            <a href="#" id="sortirajDatum">Datum</a>
                            <a href="#" id="sortirajOcena">Ocena</a>
                        </div>
                    </div>
                </div>
            </div>
        </nav>
        <img src="pozadinaSreten.jpg" id="soloPic" />
        <div id="glavni">
        </div>
    </div>
    <div id="dispecer">
        <nav class="nova">
            <div class="container-fluid">
                <div class="collapse navbar-collapse">
                    <div id="d1d">
                        Gold TAXI
                    </div>
                    <div class="dropdown homeButtonD">
                        <ul class="nav navbar-nav navbar-right">
                            <li>
                                <button style="background-color:#ffd700;border:none;height:55px;width:auto" id="dugmeHomeD" data-balloon="Vožnje!" data-balloon-pos="down">
                                    <i class="material-icons" style="font-size:xx-large;margin-top:8px">home</i>
                                </button>
                            </li>
                        </ul>
                        <div class="dropdown-content">
                            <a href="#" id="moje">Moje vožnje</a>
                            <a href="#" id="sve">Sve vožnje</a>
                            <a href="#" id="nacekanju">Vožnje na čekanju</a>
                        </div>
                    </div>
                    <div class="dropdown">
                        <ul class="nav navbar-nav navbar-right">
                            <li>
                                <button style="background-color:#ffd700;border:none;height:55px;width:auto" data-balloon="Profil!" data-balloon-pos="down"><i class="material-icons" style="font-size:xx-large;margin-top:8px">person</i> </button>
                            </li>
                        </ul>
                        <div class="dropdown-content">
                            <a href="#" id="profild">Profil</a>
                            <a href="#" id="izmenid">Izmeni</a>
                            <a href="#" id="odjavid">Odjavi se</a>
                        </div>
                    </div>
                    <div class="dropdown addButton">
                        <ul class="nav navbar-nav navbar-right">
                            <li>
                                <button type="button" style="background-color:#ffd700;height:55px;width:auto;border:none;font-size:22px" class="btn btn-default btn-sm" data-balloon="Dodaj!" data-balloon-pos="down">
                                    <span class="glyphicon glyphicon-plus"></span>
                                </button>
                            </li>
                        </ul>
                        <div class="dropdown-content">
                            <a href="#" id="nV">Vožnja</a>
                            <a href="#" id="novVozac">Vozač</a>
                        </div>
                    </div>
                    <div class="dropdown searchButton">
                        <ul class="nav navbar-nav navbar-right">
                            <li>
                                <button style="background-color:#ffd700;border:none;height:55px;width:auto" data-balloon="Pretraži!" data-balloon-pos="down"><span class="glyphicon glyphicon-search"></span></button>
                            </li>
                        </ul>
                        <div class="dropdown-content">
                            <a href="#" id="pretragaVozac">Vozač</a>
                            <a href="#" id="pretragaMusterija">Mušterija</a>
                        </div>
                    </div>
                    <div style="display:inline-block;position:absolute;margin-left:20px;">
                        <button name="clanovi" id="clanovi" style="background-color:#ffd700;border:none;height:55px;width:44px;" data-balloon="Korisnici/Vozaci!" data-balloon-pos="down"><i class="material-icons" style="font-size:36px;margin-top:5px;">group</i></button>
                    </div>
                </div>
            </div>
        </nav>
        <img src="pozadinaSreten.jpg" id="soloPicd" />
        <div id="glavni2">
        </div>
    </div>
    <div id="vozac">
        <nav class="nova">
            <div class="container-fluid">
                <div class="collapse navbar-collapse">
                    <div id="d1v">
                        Gold TAXI
                    </div>
                    <div class="dropdown homeButtonD">
                        <ul class="nav navbar-nav navbar-right">
                            <li>
                                <button style="background-color:#ffd700;border:none;height:55px;width:auto" id="dugmeHomeV" data-balloon="Vožnje!" data-balloon-pos="down">
                                    <i class="material-icons" style="font-size:xx-large;margin-top:8px">home</i>
                                </button>
                            </li>
                        </ul>
                        <div class="dropdown-content">
                            <a href="#" id="mojeVozac">Moje vožnje</a>
                            <a href="#" id="nacekanjuVozac">Vožnje na čekanju</a>
                        </div>
                    </div>
                    <div class="dropdown">
                        <ul class="nav navbar-nav navbar-right">
                            <li>
                                <button style="background-color:#ffd700;border:none;height:55px;width:auto" data-balloon="Profil!" data-balloon-pos="down"><i class="material-icons" style="font-size:xx-large;margin-top:8px">person</i> </button>
                            </li>
                        </ul>
                        <div class="dropdown-content">
                            <a href="#" id="profilv">Profil</a>
                            <a href="#" id="izmeniv">Izmeni</a>
                            <a href="#" id="odjaviv">Odjavi se</a>
                        </div>
                    </div>
                    <div class="positionButton">
                        <button style="background-color:#ffd700;border:none;height:55px;width:auto" data-balloon="Izmeni svoju Lokaciju!" data-balloon-pos="down" id="menjamLokaciju">
                            <i class="material-icons" style="font-size:xx-large;">place</i>
                        </button>
                    </div>
                </div>
            </div>
        </nav>
        <img src="pozadinaSreten.jpg" id="soloPicv" />
        <div id="glavni3">

        </div>

    </div>
    <div id="map1">
        <br /><h3 style="margin-left:50px ">Odaberite lokaciju:</h3>
        <div id="map" class="map" style="width:500px;height:350px;margin-left:50px;border:double; "></div>
    </div>
    <script>
        function myMap() {
            var mapCanvas = document.getElementById("map");
            var myCenter = new google.maps.LatLng(45.242630873254775, 19.842914435055945);
            var mapOptions = { center: myCenter, zoom: 15 };
            var map = new google.maps.Map(mapCanvas, mapOptions);
            google.maps.event.addListener(map, 'click', function (event) {
                placeMarker(map, event.latLng);
            });
        }

        let KompletAdresa = '';
        function placeMarker(map, location) {
            var marker = new google.maps.Marker({
                position: location,
                map: map
            });
            var Adresa = displayLocation(location.lat(), location.lng());
            var delovi = Adresa.split(",");
            var ulicaIBroj = delovi[0];
            var grad = delovi[1];
            var drzava = delovi[2];
            KompletAdresa = location.lat() + "," + location.lng() + "," + ulicaIBroj + "," + grad + "," + drzava;
            var infowindow = new google.maps.InfoWindow({
                content: 'Latitude: ' + location.lat() + '<br>Longitude: ' + location.lng() + '<br>Ulica i broj: ' + ulicaIBroj + '<br>Grad: ' + grad + '<br>Drzava: ' + drzava
            });
            infowindow.open(map, marker);
        }
        function displayLocation(latitude, longitude) {
            var request = new XMLHttpRequest();
            var method = 'GET';
            var url = 'http://maps.googleapis.com/maps/api/geocode/json?latlng='
                + latitude + ',' + longitude + '&sensor=true&language=en-RS';
            var async = false;
            var address;
            request.open(method, url, async);
            request.onreadystatechange = function () {
                if (request.readyState == 4 && request.status == 200) {
                    var data = JSON.parse(request.responseText);
                    address = data.results[0];
                    var value = address.formatted_address.split(",");
                    count = value.length;
                    country = value[count - 1];
                    state = value[count - 2];
                    city = value[count - 3];
                }
            };
            request.send();
            return address.formatted_address;
        };

    </script>



    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBrjeABCsOwW1rhi7eW6_b_fWF8OK2HeiA&callback=myMap&language=en-RS"></script>
</body>
</html>
